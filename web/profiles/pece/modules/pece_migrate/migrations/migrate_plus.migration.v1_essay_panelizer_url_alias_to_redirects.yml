id: v1_pece_essay_panelizer_url_alias_to_redirects
class: Drupal\migrate\Plugin\Migration
migration_tags:
  - 'Drupal 7'
  - 'PECE v1'
label: 'URL aliases PECE essay panelizer page Redirects'
migration_group: pece

source:
  plugin: v1_node_url_alias
  bundle: pece_essay
  constants:
    uri_prefix: 'internal:/'
    status_code: 301
    pece_v1_suffix: '/essay'

process:
  uid:
    plugin: default_value
    default_value: 0
  type:
    plugin: default_value
    default_value: redirect
  redirect_source/path:
    plugin: concat
    source:
      - alias
      - constants/pece_v1_suffix
  redirect_redirect/uri:
    plugin: concat
    source:
      - constants/uri_prefix
      - source
  language:
    plugin: default_value
    source: language
    default_value: und
  status_code: constants/status_code

destination:
  plugin: 'entity:redirect'

migration_dependencies:
  required:
    - v1_essay
  optional: {  }
